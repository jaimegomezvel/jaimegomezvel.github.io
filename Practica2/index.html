
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.9">
    
    
      
        <title>Practica2 - My Docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.4af4bdda.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#practica-2" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="My Docs" class="md-header__button md-logo" aria-label="My Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            My Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Practica2
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="My Docs" class="md-nav__button md-logo" aria-label="My Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    My Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Practica2
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Practica2
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#practica-2" class="md-nav__link">
    <span class="md-ellipsis">
      Practica 2
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ejercicio-2-de-despileges" class="md-nav__link">
    <span class="md-ellipsis">
      Ejercicio 2 de Despileges
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Ejercicio 2 de Despileges">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#intalacion-de-nginx" class="md-nav__link">
    <span class="md-ellipsis">
      Intalacion de Nginx
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Intalacion de Nginx">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creacion-de-una-carpeta-para-el-sitio-web" class="md-nav__link">
    <span class="md-ellipsis">
      Creacion de una carpeta para el sitio Web
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuracion-de-servidor-web-nginx" class="md-nav__link">
    <span class="md-ellipsis">
      Configuración de servidor web NGINX
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comprobaciones" class="md-nav__link">
    <span class="md-ellipsis">
      Comprobaciones
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Comprobaciones">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#comprobacion-del-correcto-funcionamiento" class="md-nav__link">
    <span class="md-ellipsis">
      Comprobación del correcto funcionamiento
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comprobar-registros-del-servidor" class="md-nav__link">
    <span class="md-ellipsis">
      Comprobar registros del servidor
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#practica-2" class="md-nav__link">
    <span class="md-ellipsis">
      Practica 2
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ejercicio-2-de-despileges" class="md-nav__link">
    <span class="md-ellipsis">
      Ejercicio 2 de Despileges
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Ejercicio 2 de Despileges">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#intalacion-de-nginx" class="md-nav__link">
    <span class="md-ellipsis">
      Intalacion de Nginx
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Intalacion de Nginx">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creacion-de-una-carpeta-para-el-sitio-web" class="md-nav__link">
    <span class="md-ellipsis">
      Creacion de una carpeta para el sitio Web
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuracion-de-servidor-web-nginx" class="md-nav__link">
    <span class="md-ellipsis">
      Configuración de servidor web NGINX
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comprobaciones" class="md-nav__link">
    <span class="md-ellipsis">
      Comprobaciones
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Comprobaciones">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#comprobacion-del-correcto-funcionamiento" class="md-nav__link">
    <span class="md-ellipsis">
      Comprobación del correcto funcionamiento
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comprobar-registros-del-servidor" class="md-nav__link">
    <span class="md-ellipsis">
      Comprobar registros del servidor
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h2 id="practica-2">Practica 2</h2>
<h1 id="ejercicio-2-de-despileges">Ejercicio 2 de Despileges</h1>
<h2 id="intalacion-de-nginx">Intalacion de Nginx</h2>
<p>Para empezar la intalación pondremos en la terminal de comandos de nuestra maquina de Debian 12 el siguiente comando para actualizar los repositorios y otro para instalar nginx:</p>
<pre><code>    sudo apt update
    sudo apt install nginx
</code></pre>
<p>Una vez intalado para ver si la instalacion se ha hecho correctamente escribiremos:
<code>systemctl status nginx</code></p>
<p><img alt="imagen1" src="../assets/imagenes/nginx/imagen1.png" /></p>
<h3 id="creacion-de-una-carpeta-para-el-sitio-web">Creacion de una carpeta para el sitio Web</h3>
<p>Todos los archivos que nginx necesita para formar un sitio web se organizara en carpetas. Esta carpeta estara ubicada  normalmente en <code>/var/www</code>.
Para crear esta carpeta usaremos <code>mkdir</code>:</p>
<pre><code>    sudo mkdir -p /var/www/nombre_web/html 
</code></pre>
<p>En nuestro caso <code>nombre_web</code> podra ser el nombre del dominio que nosotros queramos.
Ahora dentro de la carpeta html deberemos clonar el repositorio: <code>https://github.com/cloudacademy/static-website-example</code>.
Aparte de eso cambiaremos los derechos sobre la carpeta para que el propietario sea <code>www-data</code> que normalmente es el usuario típico del servicio web. Con el siguiente comando y le daremos los permisos para que no haya errores:</p>
<pre><code>    sudo  chown  -R  www-data:www-data  /var/www/nombre_web/html
</code></pre>
<pre><code>    sudo  chmod  -R  755  /var/www/nombre_web
</code></pre>
<p><img alt="imagen2" src="../assets/imagenes/nginx/imagen2.png" /></p>
<p>Ahora para ver si el servidor funciona podréis acceder correctamente desde vuestro cliente con <code>http://ip-maq-virtual</code>.</p>
<h3 id="configuracion-de-servidor-web-nginx">Configuración de servidor web NGINX</h3>
<p>En Nginx hay dos rutas importantes. La primera de ellas es <code>sites-available</code>, que contiene los archivos de configuración de los hosts virtuales. La otra es <code>sites-enabled</code>, que contiene los archivos de configuración de los sitios habilitados, es decir, los que funcionan en ese momento.
Dentro de <code>sites-available</code> hay un archivo llamado <code>default</code>  que es la pagina por defecto que se muestra en el servidor.
Para que NGINX nos presente el contenido de nuestra web, es necesario crear un bloque de servidor. En vez de modificar el archivo <code>default</code> para ello creamos <code>/etc/nginx/sites-available/nombre_web</code> con el siguiente comando:</p>
<pre><code>    sudo nano /etc/nginx/sites-available/vuestro_dominio
</code></pre>
<p>Y el contenido de dicho archivo sera:</p>
<p><img alt="imagen3" src="../assets/imagenes/nginx/imagen3.png" /></p>
<p>Y crearemos un archivo simbólico entre este archivo y el de sitios que están habilitados, para que se dé de alta automáticamente y después reiniciaremos el servidor para aplicar la configuración:</p>
<p><img alt="imagen4" src="../assets/imagenes/nginx/imagen4.png" /></p>
<h2 id="comprobaciones">Comprobaciones</h2>
<h3 id="comprobacion-del-correcto-funcionamiento">Comprobación del correcto funcionamiento</h3>
<p>Como todavia no disponemos de DNS que traduzca nuestras IPs, deberemos hacerlo manualmente. Para ello vamos a editar el archivo <code>/etc/hosts</code>  <strong>de nuestra máquina anfitriona</strong> para que asocie la IP de la maquina a nuestro <code>nombre_web</code>.</p>
<p>En Linux el archivo que hay que editar es el antes mencionado pero en Windows es <code>C:\Windows\System32\drivers\etc\hosts</code>.
A este archivo hay que añardirle esta linea:
<code>X.X.X.X nombre_web</code>
donde X.X.X.X es la IP de la maquina virtual.</p>
<p><img alt="imagen5" src="../assets/imagenes/nginx/imagen5.png" /></p>
<h3 id="comprobar-registros-del-servidor">Comprobar registros del servidor</h3>
<p>Para comprobar que las peticiones se están registrando correctamente en los archivos de logs, tanto las correctas como las erróneas:</p>
<pre><code>/var/log/nginx/access.log

/var/log/nginx/error.log
</code></pre>
<p>Esto lo encotraremos en la maquina virtual.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>