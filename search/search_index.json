{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"Practica2/","title":"Practica2","text":""},{"location":"Practica2/#practica-2","title":"Practica 2","text":""},{"location":"Practica2/#ejercicio-2-de-despileges","title":"Ejercicio 2 de Despileges","text":""},{"location":"Practica2/#intalacion-de-nginx","title":"Intalacion de Nginx","text":"<p>Para empezar la intalaci\u00f3n pondremos en la terminal de comandos de nuestra maquina de Debian 12 el siguiente comando para actualizar los repositorios y otro para instalar nginx:</p> <pre><code>    sudo apt update\n    sudo apt install nginx\n</code></pre> <p>Una vez intalado para ver si la instalacion se ha hecho correctamente escribiremos: <code>systemctl status nginx</code></p> <p></p>"},{"location":"Practica2/#creacion-de-una-carpeta-para-el-sitio-web","title":"Creacion de una carpeta para el sitio Web","text":"<p>Todos los archivos que nginx necesita para formar un sitio web se organizara en carpetas. Esta carpeta estara ubicada  normalmente en <code>/var/www</code>. Para crear esta carpeta usaremos <code>mkdir</code>:</p> <pre><code>    sudo mkdir -p /var/www/nombre_web/html \n</code></pre> <p>En nuestro caso <code>nombre_web</code> podra ser el nombre del dominio que nosotros queramos. Ahora dentro de la carpeta html deberemos clonar el repositorio: <code>https://github.com/cloudacademy/static-website-example</code>. Aparte de eso cambiaremos los derechos sobre la carpeta para que el propietario sea <code>www-data</code> que normalmente es el usuario t\u00edpico del servicio web. Con el siguiente comando y le daremos los permisos para que no haya errores:</p> <pre><code>    sudo  chown  -R  www-data:www-data  /var/www/nombre_web/html\n</code></pre> <pre><code>    sudo  chmod  -R  755  /var/www/nombre_web\n</code></pre> <p></p> <p>Ahora para ver si el servidor funciona podr\u00e9is acceder correctamente desde vuestro cliente con <code>http://ip-maq-virtual</code>.</p>"},{"location":"Practica2/#configuracion-de-servidor-web-nginx","title":"Configuraci\u00f3n de servidor web NGINX","text":"<p>En Nginx hay dos rutas importantes. La primera de ellas es <code>sites-available</code>, que contiene los archivos de configuraci\u00f3n de los hosts virtuales. La otra es <code>sites-enabled</code>, que contiene los archivos de configuraci\u00f3n de los sitios habilitados, es decir, los que funcionan en ese momento. Dentro de <code>sites-available</code> hay un archivo llamado <code>default</code>  que es la pagina por defecto que se muestra en el servidor. Para que NGINX nos presente el contenido de nuestra web, es necesario crear un bloque de servidor. En vez de modificar el archivo <code>default</code> para ello creamos <code>/etc/nginx/sites-available/nombre_web</code> con el siguiente comando:</p> <pre><code>    sudo nano /etc/nginx/sites-available/vuestro_dominio\n</code></pre> <p>Y el contenido de dicho archivo sera:</p> <p></p> <p>Y crearemos un archivo simb\u00f3lico entre este archivo y el de sitios que est\u00e1n habilitados, para que se d\u00e9 de alta autom\u00e1ticamente y despu\u00e9s reiniciaremos el servidor para aplicar la configuraci\u00f3n:</p> <p></p>"},{"location":"Practica2/#comprobaciones","title":"Comprobaciones","text":""},{"location":"Practica2/#comprobacion-del-correcto-funcionamiento","title":"Comprobaci\u00f3n del correcto funcionamiento","text":"<p>Como todavia no disponemos de DNS que traduzca nuestras IPs, deberemos hacerlo manualmente. Para ello vamos a editar el archivo <code>/etc/hosts</code> de nuestra m\u00e1quina anfitriona para que asocie la IP de la maquina a nuestro <code>nombre_web</code>.</p> <p>En Linux el archivo que hay que editar es el antes mencionado pero en Windows es <code>C:\\Windows\\System32\\drivers\\etc\\hosts</code>. A este archivo hay que a\u00f1ardirle esta linea: <code>X.X.X.X nombre_web</code> donde X.X.X.X es la IP de la maquina virtual.</p> <p></p>"},{"location":"Practica2/#comprobar-registros-del-servidor","title":"Comprobar registros del servidor","text":"<p>Para comprobar que las peticiones se est\u00e1n registrando correctamente en los archivos de logs, tanto las correctas como las err\u00f3neas:</p> <pre><code>/var/log/nginx/access.log\n\n/var/log/nginx/error.log\n</code></pre> <p>Esto lo encotraremos en la maquina virtual.</p>"}]}